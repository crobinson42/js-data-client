{"id":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","dependencies":[{"name":"/Users/coryrobinson/projects/js-data-client/node_modules/@therms/models/package.json","includedInParent":true,"mtime":1540155986754},{"name":"/Users/coryrobinson/projects/js-data-client/package.json","includedInParent":true,"mtime":1538419449751},{"name":"/Users/coryrobinson/projects/js-data-client/node_modules/@therms/models/.babelrc","includedInParent":true,"mtime":1538423057578},{"name":"js-data","loc":{"line":1,"column":38},"parent":"/Users/coryrobinson/projects/js-data-client/node_modules/@therms/models/stores/classes/ExtendedDataStore.js","resolved":"/Users/coryrobinson/projects/js-data-client/node_modules/@therms/models/node_modules/js-data/dist/js-data.js"},{"name":"../../utils","loc":{"line":3,"column":22},"parent":"/Users/coryrobinson/projects/js-data-client/node_modules/@therms/models/stores/classes/ExtendedDataStore.js","resolved":"/Users/coryrobinson/projects/js-data-client/node_modules/@therms/models/utils/index.js"}],"generated":{"js":"const { DataStore, Mapper } = require('js-data')\n\nconst utils = require('../../utils')\n\nclass ExtendedDataStore extends DataStore {\n  as(name) {\n    const props = {}\n    const original = super.as(name)\n\n    // when mapperClass is extended with a custom class make those methods available\n    const addedMapperPrototypeMethods = utils.getPrototypeMethodsNotIn(\n      this.mapperClass,\n      Mapper,\n    )\n\n    const addedMapperMethodProps = Object.getOwnPropertyNames(original.getMapper(name)).filter(\n      prop => typeof original.getMapper(name)[prop] === 'function',\n    )\n\n    const addedMapperProps = Object.getOwnPropertyNames(original.getMapper(name)).filter(\n      prop => typeof original.getMapper(name)[prop] !== 'function',\n    )\n\n    const extendedMethods = [\n      ...addedMapperMethodProps,\n      ...addedMapperPrototypeMethods,\n    ]\n\n    extendedMethods.forEach(method => {\n      props[method] = {\n        writable: true,\n        value(...args) {\n          console.log('original.getMapper(name)', original.getMapper(name))\n          console.log('original.getMapper(name)[method]', original.getMapper(name))\n          return original.getMapper(name)[method](...args)\n        },\n      }\n    })\n\n    addedMapperProps.forEach(prop => {\n      props[prop] = {\n        writable: true,\n        value: original.getMapper(name)[prop],\n      }\n    })\n\n    return Object.create(original, props)\n  }\n}\n\nmodule.exports = ExtendedDataStore\n","map":{"mappings":[{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":46,"column":0},"generated":{"line":46,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":47,"column":0},"generated":{"line":47,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":48,"column":0},"generated":{"line":48,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":49,"column":0},"generated":{"line":49,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":50,"column":0},"generated":{"line":50,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":51,"column":0},"generated":{"line":51,"column":0}},{"source":"node_modules/@therms/models/stores/classes/ExtendedDataStore.js","original":{"line":52,"column":0},"generated":{"line":52,"column":0}}],"sources":{"node_modules/@therms/models/stores/classes/ExtendedDataStore.js":"const { DataStore, Mapper } = require('js-data')\n\nconst utils = require('../../utils')\n\nclass ExtendedDataStore extends DataStore {\n  as(name) {\n    const props = {}\n    const original = super.as(name)\n\n    // when mapperClass is extended with a custom class make those methods available\n    const addedMapperPrototypeMethods = utils.getPrototypeMethodsNotIn(\n      this.mapperClass,\n      Mapper,\n    )\n\n    const addedMapperMethodProps = Object.getOwnPropertyNames(original.getMapper(name)).filter(\n      prop => typeof original.getMapper(name)[prop] === 'function',\n    )\n\n    const addedMapperProps = Object.getOwnPropertyNames(original.getMapper(name)).filter(\n      prop => typeof original.getMapper(name)[prop] !== 'function',\n    )\n\n    const extendedMethods = [\n      ...addedMapperMethodProps,\n      ...addedMapperPrototypeMethods,\n    ]\n\n    extendedMethods.forEach(method => {\n      props[method] = {\n        writable: true,\n        value(...args) {\n          console.log('original.getMapper(name)', original.getMapper(name))\n          console.log('original.getMapper(name)[method]', original.getMapper(name))\n          return original.getMapper(name)[method](...args)\n        },\n      }\n    })\n\n    addedMapperProps.forEach(prop => {\n      props[prop] = {\n        writable: true,\n        value: original.getMapper(name)[prop],\n      }\n    })\n\n    return Object.create(original, props)\n  }\n}\n\nmodule.exports = ExtendedDataStore\n"},"lineCount":52}},"hash":"c2efce16f8648c701bd97974f422f44c","cacheData":{"env":{}}}