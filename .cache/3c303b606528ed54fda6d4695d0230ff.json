{"id":"node_modules/mongodb-core/lib/wireprotocol/shared.js","dependencies":[{"name":"/Users/coryrobinson/projects/js-data-client/node_modules/mongodb-core/package.json","includedInParent":true,"mtime":1538017614234},{"name":"/Users/coryrobinson/projects/js-data-client/package.json","includedInParent":true,"mtime":1538419449751},{"name":"../topologies/read_preference","loc":{"line":3,"column":29},"parent":"/Users/coryrobinson/projects/js-data-client/node_modules/mongodb-core/lib/wireprotocol/shared.js","resolved":"/Users/coryrobinson/projects/js-data-client/node_modules/mongodb-core/lib/topologies/read_preference.js"},{"name":"../error","loc":{"line":4,"column":23},"parent":"/Users/coryrobinson/projects/js-data-client/node_modules/mongodb-core/lib/wireprotocol/shared.js","resolved":"/Users/coryrobinson/projects/js-data-client/node_modules/mongodb-core/lib/error.js"}],"generated":{"js":"'use strict';\n\nvar ReadPreference = require('../topologies/read_preference'),\n  MongoError = require('../error').MongoError;\n\nvar MESSAGE_HEADER_SIZE = 16;\n\n// OPCODE Numbers\n// Defined at https://docs.mongodb.com/manual/reference/mongodb-wire-protocol/#request-opcodes\nvar opcodes = {\n  OP_REPLY: 1,\n  OP_UPDATE: 2001,\n  OP_INSERT: 2002,\n  OP_QUERY: 2004,\n  OP_GETMORE: 2005,\n  OP_DELETE: 2006,\n  OP_KILL_CURSORS: 2007,\n  OP_COMPRESSED: 2012\n};\n\nvar getReadPreference = function(cmd, options) {\n  // Default to command version of the readPreference\n  var readPreference = cmd.readPreference || new ReadPreference('primary');\n  // If we have an option readPreference override the command one\n  if (options.readPreference) {\n    readPreference = options.readPreference;\n  }\n\n  if (typeof readPreference === 'string') {\n    readPreference = new ReadPreference(readPreference);\n  }\n\n  if (!(readPreference instanceof ReadPreference)) {\n    throw new MongoError('read preference must be a ReadPreference instance');\n  }\n\n  return readPreference;\n};\n\n// Parses the header of a wire protocol message\nvar parseHeader = function(message) {\n  return {\n    length: message.readInt32LE(0),\n    requestId: message.readInt32LE(4),\n    responseTo: message.readInt32LE(8),\n    opCode: message.readInt32LE(12)\n  };\n};\n\nmodule.exports = {\n  getReadPreference: getReadPreference,\n  MESSAGE_HEADER_SIZE: MESSAGE_HEADER_SIZE,\n  opcodes: opcodes,\n  parseHeader: parseHeader\n};\n","map":{"mappings":[{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":46,"column":0},"generated":{"line":46,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":47,"column":0},"generated":{"line":47,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":48,"column":0},"generated":{"line":48,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":49,"column":0},"generated":{"line":49,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":50,"column":0},"generated":{"line":50,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":51,"column":0},"generated":{"line":51,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":52,"column":0},"generated":{"line":52,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":53,"column":0},"generated":{"line":53,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":54,"column":0},"generated":{"line":54,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":55,"column":0},"generated":{"line":55,"column":0}},{"source":"node_modules/mongodb-core/lib/wireprotocol/shared.js","original":{"line":56,"column":0},"generated":{"line":56,"column":0}}],"sources":{"node_modules/mongodb-core/lib/wireprotocol/shared.js":"'use strict';\n\nvar ReadPreference = require('../topologies/read_preference'),\n  MongoError = require('../error').MongoError;\n\nvar MESSAGE_HEADER_SIZE = 16;\n\n// OPCODE Numbers\n// Defined at https://docs.mongodb.com/manual/reference/mongodb-wire-protocol/#request-opcodes\nvar opcodes = {\n  OP_REPLY: 1,\n  OP_UPDATE: 2001,\n  OP_INSERT: 2002,\n  OP_QUERY: 2004,\n  OP_GETMORE: 2005,\n  OP_DELETE: 2006,\n  OP_KILL_CURSORS: 2007,\n  OP_COMPRESSED: 2012\n};\n\nvar getReadPreference = function(cmd, options) {\n  // Default to command version of the readPreference\n  var readPreference = cmd.readPreference || new ReadPreference('primary');\n  // If we have an option readPreference override the command one\n  if (options.readPreference) {\n    readPreference = options.readPreference;\n  }\n\n  if (typeof readPreference === 'string') {\n    readPreference = new ReadPreference(readPreference);\n  }\n\n  if (!(readPreference instanceof ReadPreference)) {\n    throw new MongoError('read preference must be a ReadPreference instance');\n  }\n\n  return readPreference;\n};\n\n// Parses the header of a wire protocol message\nvar parseHeader = function(message) {\n  return {\n    length: message.readInt32LE(0),\n    requestId: message.readInt32LE(4),\n    responseTo: message.readInt32LE(8),\n    opCode: message.readInt32LE(12)\n  };\n};\n\nmodule.exports = {\n  getReadPreference: getReadPreference,\n  MESSAGE_HEADER_SIZE: MESSAGE_HEADER_SIZE,\n  opcodes: opcodes,\n  parseHeader: parseHeader\n};\n"},"lineCount":56}},"hash":"264a3ce856561cf9348283289a74f64e","cacheData":{"env":{}}}